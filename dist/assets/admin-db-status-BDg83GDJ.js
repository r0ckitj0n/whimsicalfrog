(function(){function o(n){const t=n.target.closest('[data-action="runCommand"]');if(t){n.preventDefault();try{const a=(t.dataset.params?JSON.parse(t.dataset.params):{}).command||"";if(!a)return;c(a)}catch{alert("Invalid command parameters")}}}function c(n){fetch(`db_api.php?action=${encodeURIComponent(n)}`).then(t=>t.json()).then(t=>{alert(t.message||"Command executed"),t.success&&location.reload()}).catch(t=>{alert("Error: "+(t?.message||String(t)))})}function e(){document.addEventListener("click",o),setInterval(()=>{location.reload()},3e4)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()})();
