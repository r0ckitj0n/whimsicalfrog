import{C as s}from"./auto-C8LTT2Eg.js";const r={salesChartInstance:null,paymentChartInstance:null,init(){const e=document.querySelector(".admin-marketing-page");e&&(this.bindEventListeners(),this.initializeCharts(e))},bindEventListeners(){document.body.addEventListener("click",e=>{const t=e.target,n=t.closest("[data-tool]");if(n){this.showMarketingTool(n.dataset.tool);return}const a=t.closest("[data-toggle-form]");if(a){const o=a.dataset.toggleForm;this.toggleForm(o);return}if(t.closest("#generateDiscountBtn")){this.generateDiscountCode();return}if(t.closest("#initMarketingTablesBtn")){this.initializeMarketingTables();return}})},showMarketingTool(e){document.querySelectorAll(".marketing-tool-section").forEach(n=>{n.classList.add("hidden")});const t=document.getElementById(`${e}-section`);t&&t.classList.remove("hidden")},toggleForm(e){const t=document.getElementById(e);t&&t.classList.toggle("hidden")},generateDiscountCode(){const e=document.getElementById("newDiscountCode");if(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(let a=0;a<8;a++)n+=t.charAt(Math.floor(Math.random()*t.length));e.value=n}},initializeCharts(e){const t=e.querySelector("#marketingChartData");if(t)try{const n=JSON.parse(t.textContent);this.renderSalesChart(n.sales),this.renderPaymentChart(n.payments)}catch(n){console.error("Failed to parse marketing chart data:",n)}},renderSalesChart(e){const t=document.getElementById("salesChart")?.getContext("2d");t&&(this.salesChartInstance&&this.salesChartInstance.destroy(),this.salesChartInstance=new s(t,{type:"line",data:{labels:e.labels,datasets:[{label:"Sales",data:e.values,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1}}))},renderPaymentChart(e){const t=document.getElementById("paymentMethodChart")?.getContext("2d");t&&(this.paymentChartInstance&&this.paymentChartInstance.destroy(),this.paymentChartInstance=new s(t,{type:"doughnut",data:{labels:e.labels,datasets:[{label:"Payment Methods",data:e.values,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]},options:{responsive:!0,maintainAspectRatio:!1}}))},async initializeMarketingTables(){alert("Initializing marketing tables...")}};document.addEventListener("DOMContentLoaded",()=>{r.init()});
